name: "selfhosted"
is_done_tick_dot_com: false
is_user_creation_disabled: false

database:
  type: "sqlite"
  migration: true

server:
  port: 2021
  read_timeout: 10s
  write_timeout: 10s
  rate_period: 60s
  rate_limit: 300
  cors_allow_origins:
    - "https://donetick.${NEXUS_DOMAIN}"
    - "https://localhost"
    - "http://localhost"
    - "capacitor://localhost"
  serve_frontend: true

logging:
  level: "info"
  encoding: "json"
  development: false

scheduler_jobs:
  due_job: 30m
  overdue_job: 3h
  pre_due_job: 3h

realtime:
  enabled: true
  sse_enabled: true
  heartbeat_interval: 60s
  connection_timeout: 120s
  max_connections: 1000
  max_connections_per_user: 5
  event_queue_size: 2048
  cleanup_interval: 2m
  stale_threshold: 5m
  enable_compression: true
  enable_stats: true
  allowed_origins:
    - "*"

# Sections required for Viper env var overrides to work
jwt:
  secret: "placeholder"
  session_time: 168h
  max_refresh: 1440h

storage:
  max_user_storage: 104857600
  max_file_size: 10485760
  bucket_name: ""
  region: ""
  base_path: ""
  access_key: ""
  secret_key: ""
  endpoint: ""
